2025-06-21 06:27:05.416 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-21 06:27:05.847 +05:00 [DBG] The index {'BookingId'} was not created on entity type 'BookingRoom' as the properties are already covered by the index {'BookingId', 'RoomId'}.
2025-06-21 06:27:05.848 +05:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-06-21 06:27:05.998 +05:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-06-21 06:27:06.148 +05:00 [DBG] The index {'BookingId'} was not created on entity type 'BookingRoom' as the properties are already covered by the index {'BookingId', 'RoomId'}.
2025-06-21 06:27:06.148 +05:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-06-21 06:27:06.211 +05:00 [DBG] 'AppDbContext' disposed.
2025-06-21 06:28:05.987 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-21 06:28:06.276 +05:00 [DBG] The index {'BookingId'} was not created on entity type 'BookingRoom' as the properties are already covered by the index {'BookingId', 'RoomId'}.
2025-06-21 06:28:06.277 +05:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-06-21 06:28:06.399 +05:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-06-21 06:28:06.869 +05:00 [DBG] 'AppDbContext' disposed.
2025-06-21 06:29:02.420 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-21 06:29:02.788 +05:00 [DBG] The index {'BookingId'} was not created on entity type 'BookingRoom' as the properties are already covered by the index {'BookingId', 'RoomId'}.
2025-06-21 06:29:02.789 +05:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-06-21 06:29:02.927 +05:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-06-21 06:29:03.035 +05:00 [DBG] Creating DbConnection.
2025-06-21 06:29:03.039 +05:00 [DBG] Created DbConnection. (1ms).
2025-06-21 06:29:03.042 +05:00 [DBG] Migrating using database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-06-21 06:29:03.046 +05:00 [DBG] Opening connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-06-21 06:29:03.050 +05:00 [DBG] Opened connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-06-21 06:29:03.055 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.059 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-06-21 06:29:03.060 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (7ms).
2025-06-21 06:29:03.065 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-21 06:29:03.075 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-21 06:29:03.080 +05:00 [DBG] Closing connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-06-21 06:29:03.083 +05:00 [DBG] Closed connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS' (0ms).
2025-06-21 06:29:03.083 +05:00 [DBG] Opening connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-06-21 06:29:03.083 +05:00 [DBG] Opened connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-06-21 06:29:03.084 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-21 06:29:03.086 +05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-21 06:29:03.086 +05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-21 06:29:03.086 +05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-21 06:29:03.087 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-21 06:29:03.107 +05:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-06-21 06:29:03.156 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-21 06:29:03.161 +05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-21 06:29:03.162 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.162 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.163 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.163 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-21 06:29:03.170 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-06-21 06:29:03.172 +05:00 [DBG] Committing transaction.
2025-06-21 06:29:03.175 +05:00 [DBG] Committed transaction.
2025-06-21 06:29:03.175 +05:00 [DBG] Disposing transaction.
2025-06-21 06:29:03.177 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-21 06:29:03.177 +05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-21 06:29:03.178 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.178 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.178 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.178 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-21 06:29:03.179 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-06-21 06:29:03.179 +05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-21 06:29:03.179 +05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-21 06:29:03.179 +05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-21 06:29:03.179 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-21 06:29:03.180 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-06-21 06:29:03.182 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-21 06:29:03.182 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-21 06:29:03.182 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-21 06:29:03.182 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-21 06:29:03.188 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-06-21 06:29:03.190 +05:00 [DBG] Closing data reader to 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-06-21 06:29:03.191 +05:00 [DBG] A data reader for 'HotelBooking' on server 'localhost\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-06-21 06:29:03.195 +05:00 [INF] Applying migration '20250618121716_InitialCreate'.
2025-06-21 06:29:03.236 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.237 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.237 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.237 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Hotels] (
    [HotelId] bigint NOT NULL IDENTITY,
    [HotelName] nvarchar(100) NOT NULL,
    [Location] nvarchar(200) NOT NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Description] nvarchar(500) NULL,
    [TotalRooms] int NOT NULL,
    [StarRating] int NOT NULL,
    CONSTRAINT [PK_Hotels] PRIMARY KEY ([HotelId])
);
2025-06-21 06:29:03.241 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Hotels] (
    [HotelId] bigint NOT NULL IDENTITY,
    [HotelName] nvarchar(100) NOT NULL,
    [Location] nvarchar(200) NOT NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Description] nvarchar(500) NULL,
    [TotalRooms] int NOT NULL,
    [StarRating] int NOT NULL,
    CONSTRAINT [PK_Hotels] PRIMARY KEY ([HotelId])
);
2025-06-21 06:29:03.241 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.241 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.241 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.241 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [UserId] bigint NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [Email] nvarchar(320) NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Salt] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([UserId])
);
2025-06-21 06:29:03.243 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [UserId] bigint NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [Email] nvarchar(320) NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Salt] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([UserId])
);
2025-06-21 06:29:03.243 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.243 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.243 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.243 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Roles] (
    [RoleId] bigint NOT NULL IDENTITY,
    [RoleName] nvarchar(100) NOT NULL,
    [Description] nvarchar(500) NULL,
    [IsActive] bit NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([RoleId]),
    CONSTRAINT [FK_Roles_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.253 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Roles] (
    [RoleId] bigint NOT NULL IDENTITY,
    [RoleName] nvarchar(100) NOT NULL,
    [Description] nvarchar(500) NULL,
    [IsActive] bit NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([RoleId]),
    CONSTRAINT [FK_Roles_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.253 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.253 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.253 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.253 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Rooms] (
    [RoomId] bigint NOT NULL IDENTITY,
    [RoomNumber] int NOT NULL,
    [RoomType] nvarchar(10) NOT NULL,
    [Price] decimal(18,2) NOT NULL,
    [Availibility] bit NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Rooms] PRIMARY KEY ([RoomId]),
    CONSTRAINT [FK_Rooms_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.257 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Rooms] (
    [RoomId] bigint NOT NULL IDENTITY,
    [RoomNumber] int NOT NULL,
    [RoomType] nvarchar(10) NOT NULL,
    [Price] decimal(18,2) NOT NULL,
    [Availibility] bit NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Rooms] PRIMARY KEY ([RoomId]),
    CONSTRAINT [FK_Rooms_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.257 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.257 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.257 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.257 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Services] (
    [ServiceId] bigint NOT NULL IDENTITY,
    [ServiceName] nvarchar(100) NOT NULL,
    [Description] nvarchar(max) NULL,
    [Price] decimal(18,2) NOT NULL,
    [IsAvailable] bit NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Services] PRIMARY KEY ([ServiceId]),
    CONSTRAINT [FK_Services_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.260 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Services] (
    [ServiceId] bigint NOT NULL IDENTITY,
    [ServiceName] nvarchar(100) NOT NULL,
    [Description] nvarchar(max) NULL,
    [Price] decimal(18,2) NOT NULL,
    [IsAvailable] bit NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Services] PRIMARY KEY ([ServiceId]),
    CONSTRAINT [FK_Services_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.261 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.261 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.261 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.261 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Bookings] (
    [BookingId] bigint NOT NULL IDENTITY,
    [StartDate] datetime2 NOT NULL,
    [EndDate] datetime2 NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Bookings] PRIMARY KEY ([BookingId]),
    CONSTRAINT [FK_Bookings_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.268 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Bookings] (
    [BookingId] bigint NOT NULL IDENTITY,
    [StartDate] datetime2 NOT NULL,
    [EndDate] datetime2 NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Bookings] PRIMARY KEY ([BookingId]),
    CONSTRAINT [FK_Bookings_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.268 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.268 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.268 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.268 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cards] (
    [CardId] bigint NOT NULL IDENTITY,
    [CardNumberMasked] nvarchar(20) NOT NULL,
    [CardHolderName] nvarchar(100) NOT NULL,
    [ExpiryMonth] int NOT NULL,
    [ExpiryYear] int NOT NULL,
    [Type] int NOT NULL,
    [SelectedForPayment] bit NOT NULL DEFAULT CAST(0 AS bit),
    [CVV] nvarchar(4) NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Cards] PRIMARY KEY ([CardId]),
    CONSTRAINT [FK_Cards_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.276 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cards] (
    [CardId] bigint NOT NULL IDENTITY,
    [CardNumberMasked] nvarchar(20) NOT NULL,
    [CardHolderName] nvarchar(100) NOT NULL,
    [ExpiryMonth] int NOT NULL,
    [ExpiryYear] int NOT NULL,
    [Type] int NOT NULL,
    [SelectedForPayment] bit NOT NULL DEFAULT CAST(0 AS bit),
    [CVV] nvarchar(4) NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Cards] PRIMARY KEY ([CardId]),
    CONSTRAINT [FK_Cards_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.276 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.276 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.276 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.276 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Complaints] (
    [ComplaintId] bigint NOT NULL IDENTITY,
    [Message] nvarchar(1000) NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [UserId] bigint NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Complaints] PRIMARY KEY ([ComplaintId]),
    CONSTRAINT [FK_Complaints_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Complaints_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.284 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Complaints] (
    [ComplaintId] bigint NOT NULL IDENTITY,
    [Message] nvarchar(1000) NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [UserId] bigint NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Complaints] PRIMARY KEY ([ComplaintId]),
    CONSTRAINT [FK_Complaints_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Complaints_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.284 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.284 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.284 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.284 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Reviews] (
    [ReviewId] bigint NOT NULL IDENTITY,
    [Rating] int NOT NULL,
    [Comment] nvarchar(1000) NULL,
    [CreatedAt] datetime2 NOT NULL,
    [IsVisible] bit NOT NULL DEFAULT CAST(1 AS bit),
    [UserId] bigint NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Reviews] PRIMARY KEY ([ReviewId]),
    CONSTRAINT [FK_Reviews_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Reviews_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.290 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Reviews] (
    [ReviewId] bigint NOT NULL IDENTITY,
    [Rating] int NOT NULL,
    [Comment] nvarchar(1000) NULL,
    [CreatedAt] datetime2 NOT NULL,
    [IsVisible] bit NOT NULL DEFAULT CAST(1 AS bit),
    [UserId] bigint NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Reviews] PRIMARY KEY ([ReviewId]),
    CONSTRAINT [FK_Reviews_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Reviews_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.290 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.290 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.290 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.290 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [UserId] bigint NOT NULL,
    [RoleId] bigint NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([RoleId]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.294 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [UserId] bigint NOT NULL,
    [RoleId] bigint NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([RoleId]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.294 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.294 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.294 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.294 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BookingRooms] (
    [BookingId] bigint NOT NULL,
    [RoomId] bigint NOT NULL,
    CONSTRAINT [PK_BookingRooms] PRIMARY KEY ([BookingId], [RoomId]),
    CONSTRAINT [FK_BookingRooms_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BookingRooms_Rooms_RoomId] FOREIGN KEY ([RoomId]) REFERENCES [Rooms] ([RoomId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.297 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BookingRooms] (
    [BookingId] bigint NOT NULL,
    [RoomId] bigint NOT NULL,
    CONSTRAINT [PK_BookingRooms] PRIMARY KEY ([BookingId], [RoomId]),
    CONSTRAINT [FK_BookingRooms_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BookingRooms_Rooms_RoomId] FOREIGN KEY ([RoomId]) REFERENCES [Rooms] ([RoomId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.298 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.298 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.298 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.298 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Payments] (
    [PaymentId] bigint NOT NULL IDENTITY,
    [PaidAmount] decimal(18,2) NOT NULL,
    [Status] int NOT NULL,
    [PaymentMethod] int NOT NULL,
    [PaidAt] datetime NOT NULL,
    [BookingId] bigint NOT NULL,
    CONSTRAINT [PK_Payments] PRIMARY KEY ([PaymentId]),
    CONSTRAINT [FK_Payments_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.300 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Payments] (
    [PaymentId] bigint NOT NULL IDENTITY,
    [PaidAmount] decimal(18,2) NOT NULL,
    [Status] int NOT NULL,
    [PaymentMethod] int NOT NULL,
    [PaidAt] datetime NOT NULL,
    [BookingId] bigint NOT NULL,
    CONSTRAINT [PK_Payments] PRIMARY KEY ([PaymentId]),
    CONSTRAINT [FK_Payments_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.300 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.300 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.301 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.301 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BookingRooms_RoomId] ON [BookingRooms] ([RoomId]);
2025-06-21 06:29:03.311 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BookingRooms_RoomId] ON [BookingRooms] ([RoomId]);
2025-06-21 06:29:03.311 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.311 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.311 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.311 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Bookings_UserId] ON [Bookings] ([UserId]);
2025-06-21 06:29:03.312 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Bookings_UserId] ON [Bookings] ([UserId]);
2025-06-21 06:29:03.312 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.312 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.312 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.312 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Cards_UserId] ON [Cards] ([UserId]);
2025-06-21 06:29:03.314 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Cards_UserId] ON [Cards] ([UserId]);
2025-06-21 06:29:03.314 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.314 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.314 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.314 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Complaints_HotelId] ON [Complaints] ([HotelId]);
2025-06-21 06:29:03.317 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Complaints_HotelId] ON [Complaints] ([HotelId]);
2025-06-21 06:29:03.317 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.317 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.317 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.317 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Complaints_UserId] ON [Complaints] ([UserId]);
2025-06-21 06:29:03.321 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Complaints_UserId] ON [Complaints] ([UserId]);
2025-06-21 06:29:03.321 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.321 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.321 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.321 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Payments_BookingId] ON [Payments] ([BookingId]);
2025-06-21 06:29:03.322 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Payments_BookingId] ON [Payments] ([BookingId]);
2025-06-21 06:29:03.322 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.322 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.322 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.322 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reviews_HotelId] ON [Reviews] ([HotelId]);
2025-06-21 06:29:03.323 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reviews_HotelId] ON [Reviews] ([HotelId]);
2025-06-21 06:29:03.323 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.324 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.324 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.324 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reviews_UserId] ON [Reviews] ([UserId]);
2025-06-21 06:29:03.325 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reviews_UserId] ON [Reviews] ([UserId]);
2025-06-21 06:29:03.325 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.325 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.325 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.325 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Roles_HotelId] ON [Roles] ([HotelId]);
2025-06-21 06:29:03.326 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Roles_HotelId] ON [Roles] ([HotelId]);
2025-06-21 06:29:03.326 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.326 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.326 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.326 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Rooms_HotelId] ON [Rooms] ([HotelId]);
2025-06-21 06:29:03.327 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Rooms_HotelId] ON [Rooms] ([HotelId]);
2025-06-21 06:29:03.327 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.327 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.327 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.327 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Rooms_RoomNumber] ON [Rooms] ([RoomNumber]);
2025-06-21 06:29:03.342 +05:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Rooms_RoomNumber] ON [Rooms] ([RoomNumber]);
2025-06-21 06:29:03.342 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.342 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.342 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.342 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Services_HotelId] ON [Services] ([HotelId]);
2025-06-21 06:29:03.345 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Services_HotelId] ON [Services] ([HotelId]);
2025-06-21 06:29:03.345 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.345 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.345 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.345 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
2025-06-21 06:29:03.350 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
2025-06-21 06:29:03.350 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.350 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.350 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.350 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2025-06-21 06:29:03.355 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2025-06-21 06:29:03.355 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.355 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.355 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.355 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250618121716_InitialCreate', N'9.0.6');
2025-06-21 06:29:03.373 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250618121716_InitialCreate', N'9.0.6');
2025-06-21 06:29:03.373 +05:00 [INF] Applying migration '20250620090619_AddMissingChanges'.
2025-06-21 06:29:03.391 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.391 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.391 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.391 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Rooms].[Availibility]', N'IsAvailable', 'COLUMN';
2025-06-21 06:29:03.776 +05:00 [INF] Executed DbCommand (384ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Rooms].[Availibility]', N'IsAvailable', 'COLUMN';
2025-06-21 06:29:03.776 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.776 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.776 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.776 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] ADD [Password] nvarchar(100) NOT NULL DEFAULT N'';
2025-06-21 06:29:03.782 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] ADD [Password] nvarchar(100) NOT NULL DEFAULT N'';
2025-06-21 06:29:03.782 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.782 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.782 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.782 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [RefreshTokenId] bigint NOT NULL IDENTITY,
    [Token] nvarchar(max) NULL,
    [ExpirationDate] datetime2 NOT NULL,
    [IsRevoked] bit NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([RefreshTokenId]),
    CONSTRAINT [FK_RefreshTokens_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.784 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [RefreshTokenId] bigint NOT NULL IDENTITY,
    [Token] nvarchar(max) NULL,
    [ExpirationDate] datetime2 NOT NULL,
    [IsRevoked] bit NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([RefreshTokenId]),
    CONSTRAINT [FK_RefreshTokens_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-06-21 06:29:03.784 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.784 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.784 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.784 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RefreshTokens_UserId] ON [RefreshTokens] ([UserId]);
2025-06-21 06:29:03.786 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RefreshTokens_UserId] ON [RefreshTokens] ([UserId]);
2025-06-21 06:29:03.786 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.786 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.786 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.786 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250620090619_AddMissingChanges', N'9.0.6');
2025-06-21 06:29:03.796 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250620090619_AddMissingChanges', N'9.0.6');
2025-06-21 06:29:03.797 +05:00 [INF] Applying migration '20250621012806_SyncModelChanges'.
2025-06-21 06:29:03.815 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.815 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.815 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.815 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Rooms] ADD [IsDeleted] bit NOT NULL DEFAULT CAST(0 AS bit);
2025-06-21 06:29:03.851 +05:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Rooms] ADD [IsDeleted] bit NOT NULL DEFAULT CAST(0 AS bit);
2025-06-21 06:29:03.851 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-21 06:29:03.851 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.851 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-21 06:29:03.851 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250621012806_SyncModelChanges', N'9.0.6');
2025-06-21 06:29:03.860 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250621012806_SyncModelChanges', N'9.0.6');
2025-06-21 06:29:03.861 +05:00 [DBG] Committing transaction.
2025-06-21 06:29:03.869 +05:00 [DBG] Committed transaction.
2025-06-21 06:29:03.869 +05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-21 06:29:03.869 +05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-21 06:29:03.869 +05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-21 06:29:03.869 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-21 06:29:03.877 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-06-21 06:29:03.877 +05:00 [DBG] Disposing transaction.
2025-06-21 06:29:03.877 +05:00 [DBG] Closing connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-06-21 06:29:03.877 +05:00 [DBG] Closed connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS' (0ms).
2025-06-21 06:29:03.879 +05:00 [DBG] 'AppDbContext' disposed.
2025-06-21 06:29:03.880 +05:00 [DBG] Disposing connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-06-21 06:29:03.881 +05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-06-21 06:30:49.373 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-21 06:30:49.456 +05:00 [DBG] Hosting starting
2025-06-21 06:30:49.469 +05:00 [DBG] Middleware loaded
2025-06-21 06:30:49.471 +05:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16529 B).
2025-06-21 06:30:49.471 +05:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-06-21 06:30:49.588 +05:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-06-21 06:30:49.767 +05:00 [INF] Now listening on: https://localhost:7276
2025-06-21 06:30:49.768 +05:00 [INF] Now listening on: http://localhost:5117
2025-06-21 06:30:49.768 +05:00 [DBG] Loaded hosting startup assembly HotelBookingSystem.Web
2025-06-21 06:30:49.768 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-21 06:30:49.768 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-21 06:30:49.768 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-21 06:30:49.816 +05:00 [DBG] Connection id "0HNDGCD0IOL60" accepted.
2025-06-21 06:30:49.816 +05:00 [DBG] Connection id "0HNDGCD0IOL61" accepted.
2025-06-21 06:30:49.819 +05:00 [DBG] Connection id "0HNDGCD0IOL61" started.
2025-06-21 06:30:49.819 +05:00 [DBG] Connection id "0HNDGCD0IOL60" started.
2025-06-21 06:30:49.832 +05:00 [DBG] Connection id "0HNDGCD0IOL61" received FIN.
2025-06-21 06:30:49.832 +05:00 [DBG] Connection id "0HNDGCD0IOL60" received FIN.
2025-06-21 06:30:49.861 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-21 06:30:49.861 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-21 06:30:49.877 +05:00 [DBG] Connection id "0HNDGCD0IOL61" stopped.
2025-06-21 06:30:49.877 +05:00 [DBG] Connection id "0HNDGCD0IOL60" stopped.
2025-06-21 06:30:49.884 +05:00 [DBG] Connection id "0HNDGCD0IOL61" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-21 06:30:49.884 +05:00 [DBG] Connection id "0HNDGCD0IOL60" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-21 06:30:49.893 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-21 06:30:49.894 +05:00 [INF] Hosting environment: Development
2025-06-21 06:30:49.894 +05:00 [INF] Content root path: C:\Group\HotelBookingSystem\src\HotelBookingSystem.Web
2025-06-21 06:30:49.894 +05:00 [DBG] Hosting started
2025-06-21 06:30:51.283 +05:00 [DBG] Connection id "0HNDGCD0IOL62" accepted.
2025-06-21 06:30:51.290 +05:00 [DBG] Connection id "0HNDGCD0IOL62" started.
2025-06-21 06:30:51.297 +05:00 [DBG] Connection id "0HNDGCD0IOL63" accepted.
2025-06-21 06:30:51.300 +05:00 [DBG] Connection id "0HNDGCD0IOL63" started.
2025-06-21 06:30:51.368 +05:00 [DBG] Connection id "0HNDGCD0IOL62" received FIN.
2025-06-21 06:30:51.424 +05:00 [DBG] Connection 0HNDGCD0IOL62 established using the following protocol: "Tls13"
2025-06-21 06:30:51.424 +05:00 [DBG] Connection 0HNDGCD0IOL63 established using the following protocol: "Tls13"
2025-06-21 06:30:51.458 +05:00 [DBG] Connection id "0HNDGCD0IOL62" is closed. The last processed stream ID was 0.
2025-06-21 06:30:51.459 +05:00 [DBG] Connection id "0HNDGCD0IOL62" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-21 06:30:51.473 +05:00 [DBG] The connection queue processing loop for 0HNDGCD0IOL62 completed.
2025-06-21 06:30:51.481 +05:00 [DBG] Connection id "0HNDGCD0IOL62" stopped.
2025-06-21 06:30:51.538 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7276/swagger - null null
2025-06-21 06:30:51.552 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-21 06:30:51.574 +05:00 [DBG] No candidates found for the request path '/swagger'
2025-06-21 06:30:51.575 +05:00 [DBG] Request did not match any endpoints
2025-06-21 06:30:51.594 +05:00 [INF] Request to /swagger took 0.008 seconds with status code 301
2025-06-21 06:30:51.603 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7276/swagger - 301 0 null 88.0359ms
2025-06-21 06:30:51.623 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7276/swagger/index.html - null null
2025-06-21 06:30:51.624 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-06-21 06:30:51.624 +05:00 [DBG] Request did not match any endpoints
2025-06-21 06:30:51.695 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-06-21 06:30:51.707 +05:00 [INF] Request to /swagger/index.html took 0.081 seconds with status code 200
2025-06-21 06:30:51.707 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-06-21 06:30:51.707 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7276/swagger/index.html - 200 null text/html;charset=utf-8 84.6494ms
2025-06-21 06:30:51.750 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7276/swagger/swagger-ui.css - null null
2025-06-21 06:30:51.751 +05:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2025-06-21 06:30:51.751 +05:00 [DBG] Request did not match any endpoints
2025-06-21 06:30:51.756 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7276/swagger/swagger-ui-bundle.js - null null
2025-06-21 06:30:51.756 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7276/swagger/swagger-ui-standalone-preset.js - null null
2025-06-21 06:30:51.756 +05:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2025-06-21 06:30:51.756 +05:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2025-06-21 06:30:51.756 +05:00 [DBG] Request did not match any endpoints
2025-06-21 06:30:51.757 +05:00 [DBG] Request did not match any endpoints
2025-06-21 06:30:51.758 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7276/_framework/aspnetcore-browser-refresh.js - null null
2025-06-21 06:30:51.779 +05:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-06-21 06:30:51.780 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7276/_framework/aspnetcore-browser-refresh.js - 200 16529 application/javascript; charset=utf-8 22.5656ms
2025-06-21 06:30:51.801 +05:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-06-21 06:30:51.801 +05:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-06-21 06:30:51.803 +05:00 [INF] Request to /swagger/swagger-ui.css took 0.051 seconds with status code 200
2025-06-21 06:30:51.803 +05:00 [INF] Request to /swagger/swagger-ui-standalone-preset.js took 0.046 seconds with status code 200
2025-06-21 06:30:51.807 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7276/swagger/swagger-ui.css - 200 152034 text/css 56.7498ms
2025-06-21 06:30:51.807 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7276/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 50.6439ms
2025-06-21 06:30:51.848 +05:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-06-21 06:30:51.848 +05:00 [INF] Request to /swagger/swagger-ui-bundle.js took 0.091 seconds with status code 200
2025-06-21 06:30:51.849 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7276/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 92.9674ms
2025-06-21 06:30:52.063 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7276/swagger/v1/swagger.json - null null
2025-06-21 06:30:52.064 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-06-21 06:30:52.064 +05:00 [DBG] Request did not match any endpoints
2025-06-21 06:30:52.070 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7276/swagger/favicon-32x32.png - null null
2025-06-21 06:30:52.071 +05:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2025-06-21 06:30:52.071 +05:00 [DBG] Request did not match any endpoints
2025-06-21 06:30:52.071 +05:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-06-21 06:30:52.072 +05:00 [INF] Request to /swagger/favicon-32x32.png took 0 seconds with status code 200
2025-06-21 06:30:52.072 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7276/swagger/favicon-32x32.png - 200 628 image/png 2.2421ms
2025-06-21 06:30:52.090 +05:00 [INF] Request to /swagger/v1/swagger.json took 0.025 seconds with status code 200
2025-06-21 06:30:52.090 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7276/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.4556ms
2025-06-21 06:38:58.289 +05:00 [DBG] Connection id "0HNDGCD0IOL63" received FIN.
2025-06-21 06:38:58.341 +05:00 [DBG] Connection id "0HNDGCD0IOL63" is closed. The last processed stream ID was 15.
2025-06-21 06:38:58.342 +05:00 [DBG] Connection id "0HNDGCD0IOL63" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-21 06:38:58.348 +05:00 [DBG] The connection queue processing loop for 0HNDGCD0IOL63 completed.
2025-06-21 06:38:58.353 +05:00 [DBG] Connection id "0HNDGCD0IOL63" stopped.
2025-06-21 06:39:54.308 +05:00 [DBG] Connection id "0HNDGCD0IOL64" accepted.
2025-06-21 06:39:54.309 +05:00 [DBG] Connection id "0HNDGCD0IOL64" started.
2025-06-21 06:39:54.358 +05:00 [DBG] Connection 0HNDGCD0IOL64 established using the following protocol: "Tls13"
2025-06-21 06:39:54.380 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7276/api/service/addService - application/json 109
2025-06-21 06:39:54.419 +05:00 [DBG] 1 candidate(s) found for the request path '/api/service/addService'
2025-06-21 06:39:54.443 +05:00 [DBG] Endpoint 'HotelBookingSystem.Web.Controllers.ServiceController.Create (HotelBookingSystem.Web)' with route pattern 'api/service/addService' is valid for the request path '/api/service/addService'
2025-06-21 06:39:54.448 +05:00 [DBG] Request matched endpoint 'HotelBookingSystem.Web.Controllers.ServiceController.Create (HotelBookingSystem.Web)'
2025-06-21 06:39:54.457 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-21 06:39:54.465 +05:00 [INF] Executing endpoint 'HotelBookingSystem.Web.Controllers.ServiceController.Create (HotelBookingSystem.Web)'
2025-06-21 06:39:54.621 +05:00 [INF] Route matched with {action = "Create", controller = "Service"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Int64] Create(HotelBookingSystem.Application.Dtos.ServiceDtos.CreateServiceDto) on controller HotelBookingSystem.Web.Controllers.ServiceController (HotelBookingSystem.Web).
2025-06-21 06:39:54.624 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-21 06:39:54.625 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-21 06:39:54.627 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-21 06:39:54.627 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-21 06:39:54.628 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-21 06:39:54.632 +05:00 [DBG] Executing controller factory for controller HotelBookingSystem.Web.Controllers.ServiceController (HotelBookingSystem.Web)
2025-06-21 06:39:54.655 +05:00 [INF] Executed action HotelBookingSystem.Web.Controllers.ServiceController.Create (HotelBookingSystem.Web) in 16.9405ms
2025-06-21 06:39:54.658 +05:00 [INF] Executed endpoint 'HotelBookingSystem.Web.Controllers.ServiceController.Create (HotelBookingSystem.Web)'
2025-06-21 06:39:55.339 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7276/api/service/addService - 500 null application/json 962.4556ms
2025-06-21 06:39:55.341 +05:00 [DBG] Connection id "0HNDGCD0IOL64", Request id "0HNDGCD0IOL64:00000001": started reading request body.
2025-06-21 06:39:55.341 +05:00 [DBG] Connection id "0HNDGCD0IOL64", Request id "0HNDGCD0IOL64:00000001": done reading request body.
2025-06-21 06:40:16.546 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7276/api/service/addService - application/json 109
2025-06-21 06:40:16.549 +05:00 [DBG] 1 candidate(s) found for the request path '/api/service/addService'
2025-06-21 06:40:16.549 +05:00 [DBG] Endpoint 'HotelBookingSystem.Web.Controllers.ServiceController.Create (HotelBookingSystem.Web)' with route pattern 'api/service/addService' is valid for the request path '/api/service/addService'
2025-06-21 06:40:16.550 +05:00 [DBG] Request matched endpoint 'HotelBookingSystem.Web.Controllers.ServiceController.Create (HotelBookingSystem.Web)'
2025-06-21 06:40:16.551 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-21 06:40:16.551 +05:00 [INF] Executing endpoint 'HotelBookingSystem.Web.Controllers.ServiceController.Create (HotelBookingSystem.Web)'
2025-06-21 06:40:16.552 +05:00 [INF] Route matched with {action = "Create", controller = "Service"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Int64] Create(HotelBookingSystem.Application.Dtos.ServiceDtos.CreateServiceDto) on controller HotelBookingSystem.Web.Controllers.ServiceController (HotelBookingSystem.Web).
2025-06-21 06:40:16.552 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-21 06:40:16.552 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-21 06:40:16.552 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-21 06:40:16.552 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-21 06:40:16.552 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-21 06:40:16.553 +05:00 [DBG] Executing controller factory for controller HotelBookingSystem.Web.Controllers.ServiceController (HotelBookingSystem.Web)
2025-06-21 06:40:16.553 +05:00 [INF] Executed action HotelBookingSystem.Web.Controllers.ServiceController.Create (HotelBookingSystem.Web) in 0.7337ms
2025-06-21 06:40:16.554 +05:00 [INF] Executed endpoint 'HotelBookingSystem.Web.Controllers.ServiceController.Create (HotelBookingSystem.Web)'
2025-06-21 06:40:16.602 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7276/api/service/addService - 500 null application/json 55.2027ms
2025-06-21 06:40:16.603 +05:00 [DBG] Connection id "0HNDGCD0IOL64", Request id "0HNDGCD0IOL64:00000003": started reading request body.
2025-06-21 06:40:16.604 +05:00 [DBG] Connection id "0HNDGCD0IOL64", Request id "0HNDGCD0IOL64:00000003": done reading request body.
2025-06-21 07:05:13.235 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-21 07:05:13.314 +05:00 [DBG] Hosting starting
2025-06-21 07:05:13.324 +05:00 [DBG] Middleware loaded
2025-06-21 07:05:13.326 +05:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16529 B).
2025-06-21 07:05:13.326 +05:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-06-21 07:05:13.476 +05:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-06-21 07:05:13.599 +05:00 [INF] Now listening on: https://localhost:7276
2025-06-21 07:05:13.599 +05:00 [INF] Now listening on: http://localhost:5117
2025-06-21 07:05:13.599 +05:00 [DBG] Loaded hosting startup assembly HotelBookingSystem.Web
2025-06-21 07:05:13.599 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-21 07:05:13.599 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-21 07:05:13.599 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-21 07:05:13.703 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-21 07:05:13.703 +05:00 [INF] Hosting environment: Development
2025-06-21 07:05:13.704 +05:00 [INF] Content root path: C:\Group\HotelBookingSystem\src\HotelBookingSystem.Web
2025-06-21 07:05:13.704 +05:00 [DBG] Hosting started
2025-06-21 07:05:13.980 +05:00 [DBG] Connection id "0HNDGD07O5JJ5" accepted.
2025-06-21 07:05:13.981 +05:00 [DBG] Connection id "0HNDGD07O5JJ4" accepted.
2025-06-21 07:05:13.982 +05:00 [DBG] Connection id "0HNDGD07O5JJ4" started.
2025-06-21 07:05:13.982 +05:00 [DBG] Connection id "0HNDGD07O5JJ5" started.
2025-06-21 07:05:13.985 +05:00 [DBG] Connection id "0HNDGD07O5JJ4" received FIN.
2025-06-21 07:05:13.985 +05:00 [DBG] Connection id "0HNDGD07O5JJ5" received FIN.
2025-06-21 07:05:14.010 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-21 07:05:14.010 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-21 07:05:14.024 +05:00 [DBG] Connection id "0HNDGD07O5JJ5" stopped.
2025-06-21 07:05:14.024 +05:00 [DBG] Connection id "0HNDGD07O5JJ4" stopped.
2025-06-21 07:05:14.030 +05:00 [DBG] Connection id "0HNDGD07O5JJ4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-21 07:05:14.030 +05:00 [DBG] Connection id "0HNDGD07O5JJ5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-21 07:05:14.902 +05:00 [DBG] Connection id "0HNDGD07O5JJ6" accepted.
2025-06-21 07:05:14.904 +05:00 [DBG] Connection id "0HNDGD07O5JJ6" started.
2025-06-21 07:05:15.000 +05:00 [DBG] Connection 0HNDGD07O5JJ6 established using the following protocol: "Tls13"
2025-06-21 07:05:15.142 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7276/swagger/index.html - null null
2025-06-21 07:05:15.168 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-21 07:05:15.210 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-06-21 07:05:15.211 +05:00 [DBG] Request did not match any endpoints
2025-06-21 07:05:15.283 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-06-21 07:05:15.304 +05:00 [INF] Request to /swagger/index.html took 0.078 seconds with status code 200
2025-06-21 07:05:15.306 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-06-21 07:05:15.313 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7276/swagger/index.html - 200 null text/html;charset=utf-8 212.0974ms
2025-06-21 07:05:15.362 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7276/_framework/aspnetcore-browser-refresh.js - null null
2025-06-21 07:05:15.390 +05:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-06-21 07:05:15.393 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7276/_framework/aspnetcore-browser-refresh.js - 200 16529 application/javascript; charset=utf-8 30.673ms
2025-06-21 07:05:15.649 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7276/swagger/v1/swagger.json - null null
2025-06-21 07:05:15.649 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-06-21 07:05:15.649 +05:00 [DBG] Request did not match any endpoints
2025-06-21 07:05:15.697 +05:00 [INF] Request to /swagger/v1/swagger.json took 0.045 seconds with status code 200
2025-06-21 07:05:15.704 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7276/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.2051ms
2025-06-21 07:06:07.268 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7276/api/service/addService - application/json 109
2025-06-21 07:06:07.284 +05:00 [DBG] 1 candidate(s) found for the request path '/api/service/addService'
2025-06-21 07:06:07.302 +05:00 [DBG] Endpoint 'HotelBookingSystem.Web.Controllers.ServiceController.Create (HotelBookingSystem.Web)' with route pattern 'api/service/addService' is valid for the request path '/api/service/addService'
2025-06-21 07:06:07.303 +05:00 [DBG] Request matched endpoint 'HotelBookingSystem.Web.Controllers.ServiceController.Create (HotelBookingSystem.Web)'
2025-06-21 07:06:07.307 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-21 07:06:07.309 +05:00 [INF] Executing endpoint 'HotelBookingSystem.Web.Controllers.ServiceController.Create (HotelBookingSystem.Web)'
2025-06-21 07:06:07.357 +05:00 [INF] Route matched with {action = "Create", controller = "Service"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Int64] Create(HotelBookingSystem.Application.Dtos.ServiceDtos.CreateServiceDto) on controller HotelBookingSystem.Web.Controllers.ServiceController (HotelBookingSystem.Web).
2025-06-21 07:06:07.359 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-21 07:06:07.359 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-21 07:06:07.360 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-21 07:06:07.360 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-21 07:06:07.360 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-21 07:06:07.364 +05:00 [DBG] Executing controller factory for controller HotelBookingSystem.Web.Controllers.ServiceController (HotelBookingSystem.Web)
2025-06-21 07:06:07.579 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-21 07:06:07.880 +05:00 [DBG] Executed controller factory for controller HotelBookingSystem.Web.Controllers.ServiceController (HotelBookingSystem.Web)
2025-06-21 07:06:07.889 +05:00 [DBG] Attempting to bind parameter 'createServiceDto' of type 'HotelBookingSystem.Application.Dtos.ServiceDtos.CreateServiceDto' ...
2025-06-21 07:06:07.892 +05:00 [DBG] Attempting to bind parameter 'createServiceDto' of type 'HotelBookingSystem.Application.Dtos.ServiceDtos.CreateServiceDto' using the name '' in request data ...
2025-06-21 07:06:07.895 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-21 07:06:07.920 +05:00 [DBG] Connection id "0HNDGD07O5JJ6", Request id "0HNDGD07O5JJ6:00000007": started reading request body.
2025-06-21 07:06:07.921 +05:00 [DBG] Connection id "0HNDGD07O5JJ6", Request id "0HNDGD07O5JJ6:00000007": done reading request body.
2025-06-21 07:06:07.943 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'HotelBookingSystem.Application.Dtos.ServiceDtos.CreateServiceDto'
2025-06-21 07:06:07.944 +05:00 [DBG] Done attempting to bind parameter 'createServiceDto' of type 'HotelBookingSystem.Application.Dtos.ServiceDtos.CreateServiceDto'.
2025-06-21 07:06:07.944 +05:00 [DBG] Done attempting to bind parameter 'createServiceDto' of type 'HotelBookingSystem.Application.Dtos.ServiceDtos.CreateServiceDto'.
2025-06-21 07:06:07.944 +05:00 [DBG] Attempting to validate the bound parameter 'createServiceDto' of type 'HotelBookingSystem.Application.Dtos.ServiceDtos.CreateServiceDto' ...
2025-06-21 07:06:07.958 +05:00 [DBG] Done attempting to validate the bound parameter 'createServiceDto' of type 'HotelBookingSystem.Application.Dtos.ServiceDtos.CreateServiceDto'.
2025-06-21 07:06:08.728 +05:00 [DBG] The index {'BookingId'} was not created on entity type 'BookingRoom' as the properties are already covered by the index {'BookingId', 'RoomId'}.
2025-06-21 07:06:08.728 +05:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-06-21 07:06:09.052 +05:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-06-21 07:06:09.106 +05:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Service.ServiceId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-21 07:06:09.195 +05:00 [DBG] Context 'AppDbContext' started tracking 'Service' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-21 07:06:09.198 +05:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Hotel.HotelId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-21 07:06:09.239 +05:00 [DBG] The foreign key property 'Service.HotelId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-06-21 07:06:09.257 +05:00 [DBG] Context 'AppDbContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-21 07:06:09.262 +05:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-06-21 07:06:09.269 +05:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-06-21 07:06:09.293 +05:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-06-21 07:06:09.511 +05:00 [DBG] Creating DbConnection.
2025-06-21 07:06:09.516 +05:00 [DBG] Created DbConnection. (4ms).
2025-06-21 07:06:09.521 +05:00 [DBG] Opening connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-06-21 07:06:09.553 +05:00 [DBG] Opened connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-06-21 07:06:09.558 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-21 07:06:09.573 +05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-06-21 07:06:09.582 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-21 07:06:09.589 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-06-21 07:06:09.595 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-06-21 07:06:09.603 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 500), @p1='?' (Size = 100), @p2='?' (Size = 200), @p3='?' (Size = 15), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Description], [HotelName], [Location], [PhoneNumber], [StarRating], [TotalRooms])
OUTPUT INSERTED.[HotelId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-21 07:06:09.694 +05:00 [INF] Executed DbCommand (90ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (Size = 100), @p2='?' (Size = 200), @p3='?' (Size = 15), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Description], [HotelName], [Location], [PhoneNumber], [StarRating], [TotalRooms])
OUTPUT INSERTED.[HotelId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-21 07:06:09.731 +05:00 [DBG] Closing data reader to 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-06-21 07:06:09.744 +05:00 [DBG] A data reader for 'HotelBooking' on server 'localhost\SQLEXPRESS' is being disposed after spending 41ms reading results.
2025-06-21 07:06:09.759 +05:00 [DBG] Disposing transaction.
2025-06-21 07:06:09.767 +05:00 [DBG] Closing connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-06-21 07:06:09.769 +05:00 [DBG] Closed connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS' (3ms).
2025-06-21 07:06:09.796 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'HotelBookingSystem.Infrastructure.Persistence.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'HotelName', table 'HotelBooking.dbo.Hotels'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:bca73d0c-89ff-4848-947c-df7cddc108c3
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'HotelName', table 'HotelBooking.dbo.Hotels'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:bca73d0c-89ff-4848-947c-df7cddc108c3
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-21 07:06:10.121 +05:00 [INF] Executed action HotelBookingSystem.Web.Controllers.ServiceController.Create (HotelBookingSystem.Web) in 2748.033ms
2025-06-21 07:06:10.123 +05:00 [INF] Executed endpoint 'HotelBookingSystem.Web.Controllers.ServiceController.Create (HotelBookingSystem.Web)'
2025-06-21 07:06:10.393 +05:00 [DBG] 'AppDbContext' disposed.
2025-06-21 07:06:10.400 +05:00 [DBG] Disposing connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-06-21 07:06:10.403 +05:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-06-21 07:06:10.405 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7276/api/service/addService - 500 null application/json 3136.5403ms
2025-06-21 07:08:58.315 +05:00 [DBG] Connection id "0HNDGD07O5JJ6" received FIN.
2025-06-21 07:08:58.327 +05:00 [DBG] Connection id "0HNDGD07O5JJ6" is closed. The last processed stream ID was 7.
2025-06-21 07:08:58.328 +05:00 [DBG] Connection id "0HNDGD07O5JJ6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-21 07:08:58.329 +05:00 [DBG] The connection queue processing loop for 0HNDGD07O5JJ6 completed.
2025-06-21 07:08:58.383 +05:00 [DBG] Connection id "0HNDGD07O5JJ6" stopped.
2025-06-21 07:11:17.280 +05:00 [DBG] Connection id "0HNDGD07O5JJ7" accepted.
2025-06-21 07:11:17.281 +05:00 [DBG] Connection id "0HNDGD07O5JJ7" started.
2025-06-21 07:11:17.395 +05:00 [DBG] Connection 0HNDGD07O5JJ7 established using the following protocol: "Tls13"
2025-06-21 07:11:17.405 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7276/api/Auth/signup - application/json 135
2025-06-21 07:11:17.410 +05:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/signup'
2025-06-21 07:11:17.410 +05:00 [DBG] Endpoint 'HotelBookingSystem.Web.Controllers.AuthController.SignUp (HotelBookingSystem.Web)' with route pattern 'api/Auth/signup' is valid for the request path '/api/Auth/signup'
2025-06-21 07:11:17.411 +05:00 [DBG] Request matched endpoint 'HotelBookingSystem.Web.Controllers.AuthController.SignUp (HotelBookingSystem.Web)'
2025-06-21 07:11:17.413 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-21 07:11:17.415 +05:00 [INF] Executing endpoint 'HotelBookingSystem.Web.Controllers.AuthController.SignUp (HotelBookingSystem.Web)'
2025-06-21 07:11:17.437 +05:00 [INF] Route matched with {action = "SignUp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUp(HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto) on controller HotelBookingSystem.Web.Controllers.AuthController (HotelBookingSystem.Web).
2025-06-21 07:11:17.438 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-21 07:11:17.438 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-21 07:11:17.439 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-21 07:11:17.439 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-21 07:11:17.440 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-21 07:11:17.440 +05:00 [DBG] Executing controller factory for controller HotelBookingSystem.Web.Controllers.AuthController (HotelBookingSystem.Web)
2025-06-21 07:11:17.498 +05:00 [DBG] Executed controller factory for controller HotelBookingSystem.Web.Controllers.AuthController (HotelBookingSystem.Web)
2025-06-21 07:11:17.499 +05:00 [DBG] Attempting to bind parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto' ...
2025-06-21 07:11:17.499 +05:00 [DBG] Attempting to bind parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto' using the name '' in request data ...
2025-06-21 07:11:17.500 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-21 07:11:17.507 +05:00 [DBG] Connection id "0HNDGD07O5JJ7", Request id "0HNDGD07O5JJ7:00000001": started reading request body.
2025-06-21 07:11:17.507 +05:00 [DBG] Connection id "0HNDGD07O5JJ7", Request id "0HNDGD07O5JJ7:00000001": done reading request body.
2025-06-21 07:11:17.511 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto'
2025-06-21 07:11:17.511 +05:00 [DBG] Done attempting to bind parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto'.
2025-06-21 07:11:17.512 +05:00 [DBG] Done attempting to bind parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto'.
2025-06-21 07:11:17.513 +05:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto' ...
2025-06-21 07:11:17.515 +05:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto'.
2025-06-21 07:11:17.720 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-21 07:11:17.727 +05:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-06-21 07:11:17.729 +05:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-06-21 07:11:17.729 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-21 07:11:17.730 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-21 07:11:17.730 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-21 07:11:17.731 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[FluentValidation.Results.ValidationFailure, FluentValidation, Version=12.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0]]'.
2025-06-21 07:11:17.774 +05:00 [INF] Executed action HotelBookingSystem.Web.Controllers.AuthController.SignUp (HotelBookingSystem.Web) in 333.9645ms
2025-06-21 07:11:17.775 +05:00 [INF] Executed endpoint 'HotelBookingSystem.Web.Controllers.AuthController.SignUp (HotelBookingSystem.Web)'
2025-06-21 07:11:17.778 +05:00 [INF] Request to /api/Auth/signup took 0.362 seconds with status code 400
2025-06-21 07:11:17.778 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7276/api/Auth/signup - 400 null application/json; charset=utf-8 375.0048ms
2025-06-21 07:11:32.728 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7276/api/Auth/signup - application/json 141
2025-06-21 07:11:32.729 +05:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/signup'
2025-06-21 07:11:32.729 +05:00 [DBG] Endpoint 'HotelBookingSystem.Web.Controllers.AuthController.SignUp (HotelBookingSystem.Web)' with route pattern 'api/Auth/signup' is valid for the request path '/api/Auth/signup'
2025-06-21 07:11:32.729 +05:00 [DBG] Request matched endpoint 'HotelBookingSystem.Web.Controllers.AuthController.SignUp (HotelBookingSystem.Web)'
2025-06-21 07:11:32.730 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-21 07:11:32.730 +05:00 [INF] Executing endpoint 'HotelBookingSystem.Web.Controllers.AuthController.SignUp (HotelBookingSystem.Web)'
2025-06-21 07:11:32.731 +05:00 [INF] Route matched with {action = "SignUp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUp(HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto) on controller HotelBookingSystem.Web.Controllers.AuthController (HotelBookingSystem.Web).
2025-06-21 07:11:32.731 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-21 07:11:32.731 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-21 07:11:32.731 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-21 07:11:32.731 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-21 07:11:32.732 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-21 07:11:32.732 +05:00 [DBG] Executing controller factory for controller HotelBookingSystem.Web.Controllers.AuthController (HotelBookingSystem.Web)
2025-06-21 07:11:32.750 +05:00 [DBG] Executed controller factory for controller HotelBookingSystem.Web.Controllers.AuthController (HotelBookingSystem.Web)
2025-06-21 07:11:32.751 +05:00 [DBG] Attempting to bind parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto' ...
2025-06-21 07:11:32.751 +05:00 [DBG] Attempting to bind parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto' using the name '' in request data ...
2025-06-21 07:11:32.751 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-21 07:11:32.751 +05:00 [DBG] Connection id "0HNDGD07O5JJ7", Request id "0HNDGD07O5JJ7:00000003": started reading request body.
2025-06-21 07:11:32.751 +05:00 [DBG] Connection id "0HNDGD07O5JJ7", Request id "0HNDGD07O5JJ7:00000003": done reading request body.
2025-06-21 07:11:32.752 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto'
2025-06-21 07:11:32.752 +05:00 [DBG] Done attempting to bind parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto'.
2025-06-21 07:11:32.752 +05:00 [DBG] Done attempting to bind parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto'.
2025-06-21 07:11:32.753 +05:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto' ...
2025-06-21 07:11:32.753 +05:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto'.
2025-06-21 07:17:13.777 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-21 07:17:13.863 +05:00 [DBG] Hosting starting
2025-06-21 07:17:13.879 +05:00 [DBG] Middleware loaded
2025-06-21 07:17:13.881 +05:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16529 B).
2025-06-21 07:17:13.882 +05:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-06-21 07:17:14.011 +05:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-06-21 07:17:14.131 +05:00 [INF] Now listening on: https://localhost:7276
2025-06-21 07:17:14.132 +05:00 [INF] Now listening on: http://localhost:5117
2025-06-21 07:17:14.132 +05:00 [DBG] Loaded hosting startup assembly HotelBookingSystem.Web
2025-06-21 07:17:14.132 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-06-21 07:17:14.132 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-21 07:17:14.132 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-06-21 07:17:14.209 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-21 07:17:14.210 +05:00 [INF] Hosting environment: Development
2025-06-21 07:17:14.210 +05:00 [INF] Content root path: C:\Group\HotelBookingSystem\src\HotelBookingSystem.Web
2025-06-21 07:17:14.210 +05:00 [DBG] Hosting started
2025-06-21 07:17:14.407 +05:00 [DBG] Connection id "0HNDGD6UEMEOA" accepted.
2025-06-21 07:17:14.407 +05:00 [DBG] Connection id "0HNDGD6UEMEOB" accepted.
2025-06-21 07:17:14.411 +05:00 [DBG] Connection id "0HNDGD6UEMEOB" started.
2025-06-21 07:17:14.415 +05:00 [DBG] Connection id "0HNDGD6UEMEOA" started.
2025-06-21 07:17:14.424 +05:00 [DBG] Connection id "0HNDGD6UEMEOA" received FIN.
2025-06-21 07:17:14.424 +05:00 [DBG] Connection id "0HNDGD6UEMEOB" received FIN.
2025-06-21 07:17:14.445 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-21 07:17:14.445 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-06-21 07:17:14.455 +05:00 [DBG] Connection id "0HNDGD6UEMEOA" stopped.
2025-06-21 07:17:14.455 +05:00 [DBG] Connection id "0HNDGD6UEMEOB" stopped.
2025-06-21 07:17:14.460 +05:00 [DBG] Connection id "0HNDGD6UEMEOB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-21 07:17:14.460 +05:00 [DBG] Connection id "0HNDGD6UEMEOA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-21 07:17:15.148 +05:00 [DBG] Connection id "0HNDGD6UEMEOC" accepted.
2025-06-21 07:17:15.149 +05:00 [DBG] Connection id "0HNDGD6UEMEOC" started.
2025-06-21 07:17:15.193 +05:00 [DBG] Connection 0HNDGD6UEMEOC established using the following protocol: "Tls13"
2025-06-21 07:17:15.277 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7276/swagger/index.html - null null
2025-06-21 07:17:15.340 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-21 07:17:15.396 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-06-21 07:17:15.397 +05:00 [DBG] Request did not match any endpoints
2025-06-21 07:17:15.468 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-06-21 07:17:15.506 +05:00 [INF] Request to /swagger/index.html took 0.09 seconds with status code 200
2025-06-21 07:17:15.507 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-06-21 07:17:15.512 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7276/swagger/index.html - 200 null text/html;charset=utf-8 241.0877ms
2025-06-21 07:17:15.517 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7276/_framework/aspnetcore-browser-refresh.js - null null
2025-06-21 07:17:15.523 +05:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-06-21 07:17:15.525 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7276/_framework/aspnetcore-browser-refresh.js - 200 16529 application/javascript; charset=utf-8 8.2976ms
2025-06-21 07:17:15.615 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7276/swagger/v1/swagger.json - null null
2025-06-21 07:17:15.615 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-06-21 07:17:15.615 +05:00 [DBG] Request did not match any endpoints
2025-06-21 07:17:15.661 +05:00 [INF] Request to /swagger/v1/swagger.json took 0.042 seconds with status code 200
2025-06-21 07:17:15.675 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7276/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.8826ms
2025-06-21 07:18:37.671 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7276/api/Auth/signup - application/json 130
2025-06-21 07:18:37.692 +05:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/signup'
2025-06-21 07:18:37.708 +05:00 [DBG] Endpoint 'HotelBookingSystem.Web.Controllers.AuthController.SignUp (HotelBookingSystem.Web)' with route pattern 'api/Auth/signup' is valid for the request path '/api/Auth/signup'
2025-06-21 07:18:37.709 +05:00 [DBG] Request matched endpoint 'HotelBookingSystem.Web.Controllers.AuthController.SignUp (HotelBookingSystem.Web)'
2025-06-21 07:18:37.712 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-21 07:18:37.715 +05:00 [INF] Executing endpoint 'HotelBookingSystem.Web.Controllers.AuthController.SignUp (HotelBookingSystem.Web)'
2025-06-21 07:18:37.764 +05:00 [INF] Route matched with {action = "SignUp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUp(HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto) on controller HotelBookingSystem.Web.Controllers.AuthController (HotelBookingSystem.Web).
2025-06-21 07:18:37.767 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-21 07:18:37.769 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-21 07:18:37.770 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-21 07:18:37.770 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-21 07:18:37.770 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-21 07:18:37.773 +05:00 [DBG] Executing controller factory for controller HotelBookingSystem.Web.Controllers.AuthController (HotelBookingSystem.Web)
2025-06-21 07:18:37.972 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-21 07:18:38.053 +05:00 [DBG] Executed controller factory for controller HotelBookingSystem.Web.Controllers.AuthController (HotelBookingSystem.Web)
2025-06-21 07:18:38.064 +05:00 [DBG] Attempting to bind parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto' ...
2025-06-21 07:18:38.070 +05:00 [DBG] Attempting to bind parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto' using the name '' in request data ...
2025-06-21 07:18:38.072 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-21 07:18:38.089 +05:00 [DBG] Connection id "0HNDGD6UEMEOC", Request id "0HNDGD6UEMEOC:00000007": started reading request body.
2025-06-21 07:18:38.090 +05:00 [DBG] Connection id "0HNDGD6UEMEOC", Request id "0HNDGD6UEMEOC:00000007": done reading request body.
2025-06-21 07:18:38.107 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto'
2025-06-21 07:18:38.110 +05:00 [DBG] Done attempting to bind parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto'.
2025-06-21 07:18:38.111 +05:00 [DBG] Done attempting to bind parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto'.
2025-06-21 07:18:38.112 +05:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto' ...
2025-06-21 07:18:38.138 +05:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto'.
2025-06-21 07:18:38.323 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-21 07:18:38.327 +05:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-06-21 07:18:38.328 +05:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-06-21 07:18:38.329 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-21 07:18:38.329 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-21 07:18:38.331 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-21 07:18:38.331 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[FluentValidation.Results.ValidationFailure, FluentValidation, Version=12.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0]]'.
2025-06-21 07:18:38.378 +05:00 [INF] Executed action HotelBookingSystem.Web.Controllers.AuthController.SignUp (HotelBookingSystem.Web) in 600.534ms
2025-06-21 07:18:38.379 +05:00 [INF] Executed endpoint 'HotelBookingSystem.Web.Controllers.AuthController.SignUp (HotelBookingSystem.Web)'
2025-06-21 07:18:38.379 +05:00 [INF] Request to /api/Auth/signup took 0.667 seconds with status code 400
2025-06-21 07:18:38.382 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7276/api/Auth/signup - 400 null application/json; charset=utf-8 710.8324ms
2025-06-21 07:19:14.342 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7276/api/Auth/signup - application/json 137
2025-06-21 07:19:14.362 +05:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/signup'
2025-06-21 07:19:14.363 +05:00 [DBG] Endpoint 'HotelBookingSystem.Web.Controllers.AuthController.SignUp (HotelBookingSystem.Web)' with route pattern 'api/Auth/signup' is valid for the request path '/api/Auth/signup'
2025-06-21 07:19:14.363 +05:00 [DBG] Request matched endpoint 'HotelBookingSystem.Web.Controllers.AuthController.SignUp (HotelBookingSystem.Web)'
2025-06-21 07:19:14.364 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-21 07:19:14.364 +05:00 [INF] Executing endpoint 'HotelBookingSystem.Web.Controllers.AuthController.SignUp (HotelBookingSystem.Web)'
2025-06-21 07:19:14.365 +05:00 [INF] Route matched with {action = "SignUp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUp(HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto) on controller HotelBookingSystem.Web.Controllers.AuthController (HotelBookingSystem.Web).
2025-06-21 07:19:14.365 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-21 07:19:14.365 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-21 07:19:14.365 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-21 07:19:14.365 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-21 07:19:14.366 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-21 07:19:14.366 +05:00 [DBG] Executing controller factory for controller HotelBookingSystem.Web.Controllers.AuthController (HotelBookingSystem.Web)
2025-06-21 07:19:14.379 +05:00 [DBG] Executed controller factory for controller HotelBookingSystem.Web.Controllers.AuthController (HotelBookingSystem.Web)
2025-06-21 07:19:14.379 +05:00 [DBG] Attempting to bind parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto' ...
2025-06-21 07:19:14.380 +05:00 [DBG] Attempting to bind parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto' using the name '' in request data ...
2025-06-21 07:19:14.380 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-06-21 07:19:14.380 +05:00 [DBG] Connection id "0HNDGD6UEMEOC", Request id "0HNDGD6UEMEOC:00000009": started reading request body.
2025-06-21 07:19:14.380 +05:00 [DBG] Connection id "0HNDGD6UEMEOC", Request id "0HNDGD6UEMEOC:00000009": done reading request body.
2025-06-21 07:19:14.380 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto'
2025-06-21 07:19:14.380 +05:00 [DBG] Done attempting to bind parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto'.
2025-06-21 07:19:14.381 +05:00 [DBG] Done attempting to bind parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto'.
2025-06-21 07:19:14.381 +05:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto' ...
2025-06-21 07:19:14.381 +05:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'HotelBookingSystem.Application.Dtos.UserDtos.CreateUserDto'.
2025-06-21 07:23:18.706 +05:00 [DBG] Connection id "0HNDGD6UEMEOC" received FIN.
2025-06-21 07:23:18.710 +05:00 [DBG] Connection id "0HNDGD6UEMEOD" received FIN.
